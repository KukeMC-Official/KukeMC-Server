<!-- Navbar -->
<nav class="navbar navbar-expand-md navbar-dark navbar-custom fixed-top">
    <!-- Text Logo - Use this if you don't have a graphic logo -->
    <!-- <a class="navbar-brand logo-text page-scroll" href="index.html">Aria</a> -->
            
    <!-- Image Logo -->
    <a class="navbar-brand logo-image" href="index.html"><img src="https://m.ccw.site/gandi_application/user_assets/2a6bb37880317d2bb5525ab560618e04.png" alt="alternative"></a> <!-- end of navbar brand -->

    <!-- Mobile Menu Toggle Button -->
    <!-- Mobile Menu Toggle Button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="true" aria-label="Toggle navigation">
        <span class="navbar-toggler-awesome fas fa-bars"></span>
        <span class="navbar-toggler-awesome fas fa-times"></span>
        </button>
        <!-- end of mobile menu toggle button -->

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link page-scroll" href="index.html#header">首页 <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" href="index.html#info">服务器介绍</a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" href="index.html#picture">风景欣赏</a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" href="news.html">游戏公告</a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" href="player.html">玩家列表</a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" href="banlist.html">封禁列表</a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" href="message.html">玩家留言</a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" href="playtime.html">游玩时间</a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" onclick="window.open('https://status.kuke.ink')">状态监控</a>
            </li>
            <li class="nav-item">
                <a class="nav-link page-scroll" href="thanks.html">特别鸣谢</a>
            </li>
        </ul>
    </div>
<script>
// 自动激活当前页面导航项
document.addEventListener('DOMContentLoaded', function() {
    const currentPath = window.location.pathname; // 获取当前路径，例如 /playtime 或 /playtime.html
    const linkBase = document.querySelector('base')?.href || '/';

    // 规范化当前页面路径：去除 .html 扩展名，去除末尾斜杠，去除前导斜杠
    const normalizedCurrentPath = currentPath
        .replace(/index\.html$/i, '') // 移除 index.html
        .replace(/\.html$/i, '')     // 移除 .html
        .replace(/\/$/, '')          // 移除末尾斜杠
        .replace(/^\/+/, '');         // 移除前导斜杠

    console.log('Normalized Current Page:', normalizedCurrentPath);

    document.querySelectorAll('.nav-link').forEach(link => {
        const linkObj = new URL(link.href, linkBase);
        const linkPath = linkObj.pathname;

        // 规范化导航链接路径：去除 .html 扩展名，去除末尾斜杠，去除前导斜杠
        const normalizedLinkPath = linkPath
            .replace(/index\.html$/i, '') // 移除 index.html
            .replace(/#.*$/, '')         // 移除 # 后面的内容
            .replace(/\.html$/i, '')     // 移除 .html
            .replace(/\/$/, '')          // 移除末尾斜杠
            .replace(/^\//, '');         // 移除前导斜杠

        console.log('Link URL:', linkObj.href, 'Normalized Link Path:', normalizedLinkPath);
        
        // 比较规范化后的路径
        if (normalizedLinkPath === normalizedCurrentPath) {
            link.classList.add('active');
            console.log('Activated link:', link.href);
        }
    });

});
</script>
</nav> <!-- end of navbar -->
